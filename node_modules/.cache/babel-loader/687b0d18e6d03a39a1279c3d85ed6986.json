{"ast":null,"code":"import axios from \"axios\";\n\n// add a date range here\nconst addPhotos = async _ref => {\n  let {\n    startDate,\n    endDate,\n    setLoading,\n    setPhotos,\n    photos\n  } = _ref;\n  let url;\n\n  if (endDate) {\n    url = `https://api.nasa.gov/planetary/apod?api_key=ykzQINaucAEoc1RW6I3CqVke24wjlu9JAyrDVcKd&start_date=${startDate}&end_date=${endDate}`;\n  } else {\n    url = `https://api.nasa.gov/planetary/apod?api_key=ykzQINaucAEoc1RW6I3CqVke24wjlu9JAyrDVcKd&start_date=${startDate}`;\n  }\n\n  try {\n    axios.get(url).then(response => {\n      console.log(response.data);\n      setLoading(false);\n      const newPhotos = response.data.reverse(); // reverse so that it appears in order of date\n\n      setPhotos([...photos, newPhotos]); // setPhotos([...photos, response.data.reverse()]);\n    });\n  } catch {\n    console.error(\"There was an error retrieving the data\");\n    return undefined;\n  }\n};\n\nconst PhotoService = {\n  addPhotos\n};\nexport default PhotoService;","map":{"version":3,"sources":["/Users/mlj/Documents/spacestagram/src/services/photoService.ts"],"names":["axios","addPhotos","startDate","endDate","setLoading","setPhotos","photos","url","get","then","response","console","log","data","newPhotos","reverse","error","undefined","PhotoService"],"mappings":"AAAA,OAAOA,KAAP,MAAqC,OAArC;;AAWA;AACA,MAAMC,SAAS,GAAG,cAMuC;AAAA,MANhC;AACvBC,IAAAA,SADuB;AAEvBC,IAAAA,OAFuB;AAGvBC,IAAAA,UAHuB;AAIvBC,IAAAA,SAJuB;AAKvBC,IAAAA;AALuB,GAMgC;AACvD,MAAIC,GAAJ;;AAEA,MAAIJ,OAAJ,EAAa;AACXI,IAAAA,GAAG,GAAI,mGAAkGL,SAAU,aAAYC,OAAQ,EAAvI;AACD,GAFD,MAEO;AACLI,IAAAA,GAAG,GAAI,mGAAkGL,SAAU,EAAnH;AACD;;AAED,MAAI;AACFF,IAAAA,KAAK,CAACQ,GAAN,CAAuBD,GAAvB,EAA4BE,IAA5B,CAAkCC,QAAD,IAAc;AAC7CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,YAAMU,SAAsB,GAAGJ,QAAQ,CAACG,IAAT,CAAcE,OAAd,EAA/B,CAH6C,CAI7C;;AACAV,MAAAA,SAAS,CAAC,CAAC,GAAGC,MAAJ,EAAYQ,SAAZ,CAAD,CAAT,CAL6C,CAM7C;AACD,KAPD;AAQD,GATD,CASE,MAAM;AACNH,IAAAA,OAAO,CAACK,KAAR,CAAc,wCAAd;AACA,WAAOC,SAAP;AACD;AACF,CA5BD;;AA8BA,MAAMC,YAAY,GAAG;AACnBjB,EAAAA;AADmB,CAArB;AAIA,eAAeiB,YAAf","sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport PhotoData from \"../types/photoData\";\n\ntype PhotoParameters = {\n  startDate: string;\n  endDate?: string;\n  setLoading: React.Dispatch<React.SetStateAction<boolean>>;\n  setPhotos: React.Dispatch<React.SetStateAction<PhotoData[]>>;\n  photos: PhotoData[];\n};\n\n// add a date range here\nconst addPhotos = async ({\n  startDate,\n  endDate,\n  setLoading,\n  setPhotos,\n  photos,\n}: PhotoParameters): Promise<PhotoData[] | undefined> => {\n  let url: string;\n\n  if (endDate) {\n    url = `https://api.nasa.gov/planetary/apod?api_key=ykzQINaucAEoc1RW6I3CqVke24wjlu9JAyrDVcKd&start_date=${startDate}&end_date=${endDate}`;\n  } else {\n    url = `https://api.nasa.gov/planetary/apod?api_key=ykzQINaucAEoc1RW6I3CqVke24wjlu9JAyrDVcKd&start_date=${startDate}`;\n  }\n\n  try {\n    axios.get<PhotoData[]>(url).then((response) => {\n      console.log(response.data);\n      setLoading(false);\n      const newPhotos: PhotoData[] = response.data.reverse();\n      // reverse so that it appears in order of date\n      setPhotos([...photos, newPhotos]);\n      // setPhotos([...photos, response.data.reverse()]);\n    });\n  } catch {\n    console.error(\"There was an error retrieving the data\");\n    return undefined;\n  }\n};\n\nconst PhotoService = {\n  addPhotos,\n};\n\nexport default PhotoService;\n"]},"metadata":{},"sourceType":"module"}